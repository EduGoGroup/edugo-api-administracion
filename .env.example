# ============================================
# EDUGO API ADMINISTRACIÓN - Variables de Entorno
# ============================================
# Copiar a .env y ajustar valores según ambiente
# Prefijo para variables Viper: EDUGO_ADMIN_

# ============================================
# AMBIENTE
# ============================================
APP_ENV=local

# ============================================
# BASE DE DATOS - POSTGRESQL
# ============================================
POSTGRES_PASSWORD=your-postgres-password

# ============================================
# BASE DE DATOS - MONGODB
# ============================================
MONGODB_URI=mongodb://user:password@localhost:27017/edugo?authSource=admin

# ============================================
# AUTENTICACIÓN CENTRALIZADA (Sprint 1)
# ============================================

# JWT Configuration - UNIFICADO para todo el ecosistema EduGo
# IMPORTANTE: Usar el mismo valor en api-mobile y worker
AUTH_JWT_SECRET=your-production-secret-minimum-32-characters-long
AUTH_JWT_ISSUER=edugo-central
AUTH_JWT_ACCESS_TOKEN_DURATION=15m
AUTH_JWT_REFRESH_TOKEN_DURATION=168h

# Rate Limiting para autenticación
AUTH_RATE_LIMIT_LOGIN_ATTEMPTS=5
AUTH_RATE_LIMIT_LOGIN_WINDOW=15m
AUTH_RATE_LIMIT_LOGIN_BLOCK=1h

# Servicios Internos (api-mobile, worker)
# Formato: servicio:apikey,servicio:apikey
AUTH_INTERNAL_SERVICES_API_KEYS=api-mobile:mobile-secret-key,worker:worker-secret-key
# Rangos IP permitidos para servicios internos (CIDR)
AUTH_INTERNAL_SERVICES_IP_RANGES=127.0.0.1/32,10.0.0.0/8,172.16.0.0/12

# Cache de validación de tokens
AUTH_CACHE_TOKEN_VALIDATION_TTL=60s
AUTH_CACHE_USER_INFO_TTL=300s

# Performance
AUTH_MAX_CONCURRENT_VALIDATIONS=1000
AUTH_VALIDATION_TIMEOUT=3s

# ============================================
# REDIS (para cache de tokens)
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
